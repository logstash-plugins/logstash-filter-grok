import:
- logstash-plugins/.ci:travis/travis.yml@1.x

_performance: &_performance
  install: .ci/docker-setup.sh
  script: .ci/docker-performance-run.sh

stages:
- name: test
- name: performance

jobs:
- stage: performance
  name: Performance Base-Line
  <<: *_performance
  env:
  - ELASTIC_STACK_VERSION=6.8.8
- name: Performance 8.0
  <<: *_performance
  env:
  - SNAPSHOT=true ELASTIC_STACK_VERSION=8.0.0-SNAPSHOT
- name: Performance 7.6
  <<: *_performance
  env:
  - ELASTIC_STACK_VERSION=7.6.1
